# Climate change survey

How to check climate change using data for your location

## Original data
Dataset link: https://www.ncdc.noaa.gov/cdo-web/datasets

By year: https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/by_year/

## get_ghcn_data
The script that downloads climate data for given year and given meteorological station.

### Requirements
bash, awk, wget, gzip

### Usage
```
./get_ghcn_data station_id type year1 year2 datadir
```
where:

*station_id* - station identification number (https://www1.ncdc.noaa.gov/pub/data/ghcn/daily/ghcnd-stations.txt)

*type* - data type, e. g. TAVG - average temperature

*year1* - starting year

*year2* - finishing year

*datadir* - dataset directory

If datadir argument is not set, $DATADIR variable should be set before runnig this script:
```
DATADIR=/path/to/dataset/directory
export DATADIR
```
If DATADIR directory is not set, the script uses current directory as dataset directory.

## avgt.awk
The script calculates average temperatures of year, winter and summer for a station

### Usage
```
awk -f avgt.awk files
```
where:

*files* - files generated by get_ghcn_data

### Examples
```
awk -f avgt.awk $DATADIR/TAVG80028*
```
returns average temperatures for Ernesto Coritissoz station (Colombia) for all years:
```
Average yearly temperature is 27.6399 for 21834 records.
Average winter temperature is 27.0727 for 5360 records.
Average summer temperature is 28.1449 for 5490 records.
```

```
awk -f avgt.awk $DATADIR/TAVG24959_20*
```
returns average temperatures for Yakutsk station (Russia) for 2000-2018 years:
```
Average yearly temperature is -7.72972 for 6900 records.
Average winter temperature is -35.8443 for 1713 records.
Average summer temperature is 17.5599 for 1739 records.
```
